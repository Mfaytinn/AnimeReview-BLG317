{% extends 'layout.html' %}

{% block title %}Edit Review{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Edit Your Review</h1>
    <form action="{{ url_for('edit_review', score_id=review['score_id']) }}" method="POST" class="d-inline">
        <input type="hidden" name="anime_id" value="{{ review['anime_id'] }}">
        <div class="mb-3">
            <label for="score" class="form-label">Score</label>
            <input type="number" id="score" name="score" class="form-control" min="1" max="10" value="{{ review['score'] }}" required>
        </div>
        <div class="mb-3">
            <label for="comment" class="form-label">Comment</label>
            <textarea id="comment" name="comment" class="form-control" rows="3" required>{{ review['comment'] }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Update Review</button>
    </form>

    <!-- Delete Button -->
    <form action="{{ url_for('delete_review', score_id=review['score_id']) }}" method="POST" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this review? This action cannot be undone.');">
        <input type="hidden" name="anime_id" value="{{ review['anime_id'] }}">
        <button type="submit" class="btn btn-danger">Delete Review</button>
    </form>
</div>
{% endblock %}
